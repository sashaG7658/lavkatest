<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <!-- –í–∞–∂–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0B5B8A">
    
    <title>LAVKA Shop | Telegram –ú–∞–≥–∞–∑–∏–Ω</title>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css">
    
    <!-- –ò–∫–æ–Ω–∫–∏ Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="description" content="–ú–∞–≥–∞–∑–∏–Ω ICEBERG –≤ Telegram - —Ç–æ–≤–∞—Ä—ã –ø–æ 2 –≤ —Å—Ç—Ä–æ–∫–µ">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ùÑÔ∏è</text></svg>">
    
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤–∞–∂–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preconnect" href="https://static.insales-cdn.com">
    <style>
        /* –ë—ã—Å—Ç—Ä—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0B5B8A;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s;
        }
        .loader-content {
            text-align: center;
            color: white;
        }
        .loader-spinner {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- –ë—ã—Å—Ç—Ä—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader" id="loader">
        <div class="loader-content">
            <div class="loader-spinner">‚ùÑÔ∏è</div>
            <h2>LAVKA Shop</h2>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div class="container" id="app" style="display: none;">
        <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <header class="header">
            <h1><i class="fas fa-snowflake"></i> ICEBERG Shop</h1>
            <button id="cartButton" class="cart-btn">
                <i class="fas fa-shopping-cart"></i>
                <span id="cartCounter">0</span>
            </button>
        </header>

        <!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ 2 –≤ —Å—Ç—Ä–æ–∫—É -->
        <main class="catalog" id="catalog">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...
            </div>
        </main>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <footer class="footer">
            <p>üõí –ú–∞–≥–∞–∑–∏–Ω ICEBERG —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Telegram</p>
            <p class="small">–¢–æ–≤–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ 2 –≤ —Å—Ç—Ä–æ–∫–µ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
        </footer>

        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã -->
        <div id="cartSidebar" class="cart-sidebar">
            <div class="cart-header">
                <h2><i class="fas fa-shopping-bag"></i> –í–∞—à –∑–∞–∫–∞–∑</h2>
                <button class="close-cart" id="closeCart">&times;</button>
            </div>
            <div class="cart-items" id="cartItems">
                <div class="empty-cart-msg">
                    <i class="fas fa-shopping-cart fa-2x"></i>
                    <p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
                    <p class="small">–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                </div>
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    –ò—Ç–æ–≥–æ: <span id="totalPrice">0</span> —Ä—É–±.
                </div>
                <button id="checkoutButton" class="checkout-btn" disabled>
                    <i class="fas fa-paper-plane"></i> –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
                <button id="clearCartButton" class="clear-btn">
                    <i class="fas fa-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
                </button>
            </div>
        </div>
        
        <!-- –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–π –∫–æ—Ä–∑–∏–Ω–µ -->
        <div id="cartOverlay" class="cart-overlay"></div>
    </div>

    <!-- –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="script.js"></script>
    
    <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ -->
    <script>
        // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–≥–¥–∞ –≤—Å—ë –≥–æ—Ç–æ–≤–æ
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loader = document.getElementById('loader');
                const app = document.getElementById('app');
                
                if (loader && app) {
                    loader.style.opacity = '0';
                    setTimeout(function() {
                        loader.style.display = 'none';
                        app.style.display = 'block';
                    }, 300);
                }
            }, 500);
        });
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∑—É–º –ø–æ –¥–≤–æ–π–Ω–æ–º—É —Ç–∞–ø—É –Ω–∞ iOS
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏
        document.addEventListener('touchstart', function(event) {
            if (event.target.tagName === 'BUTTON' || event.target.tagName === 'INPUT') {
                return;
            }
            event.preventDefault();
        }, { passive: false });
    </script>
</body>
</html>

